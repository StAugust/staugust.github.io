# 操作系统结构

## 操作系统服务
操作系统提供的服务有:
+ 用户界面, CLI(command-line interface), GUI(graphical user interface)
+ 程序执行
+ I/O操作
+ 文件系统操作
+ 通信
+ 错误检测
+ 资源分配
+ 统计
+ 保护和安全

## 系统调用
系统调用(system call)提供了操作系统提供有效服务的界面. 这些调用通常用C或者C++编写, 当然, 对底层的任务(如必须直接访问硬件), 可能以汇编语言指令的形式提供. 
有三种应用程序员常用的API:
+ 适用于windows系统的Win32 API
+ 适用于POSIX系统的POSIX API(包括几乎所有UNIX, Linux, Mac OSX)
+ 设计运行于java虚拟机程序的Java API

向操作系统传递参数有三种方法:
+ 通过寄存器来传递参数
+ 将块地址通过寄存器来传递
+ 通过程序将参数放在或压入堆栈中, 并通过操作系统弹出
后两种方法并不限制所传递参数的数量或长度. 

## 系统调用类型
系统调用大致可分为五大类:
+ 进程控制
+ 文件管理
+ 设备管理
+ 信息维护
+ 通信
有两种通信模型: 消息传递模型和共享内存模型. 对于`消息传递模型(message-passing model)`, 通信进程通过彼此之间交换消息来交换信息, 直接或间接地通过一个共同的邮箱, 消息可以在进程之间得到交换. 对于`共享内存模型(shared-memory model)`, 进程使用shared\_memory\_create和shared\_meomry\_attach系统调用来获得其他进程所拥有的内存区域的访问权. 

## 操作系统设计和实现
### 设计目标
操作系统设计受到硬件选择和系统类型的影响: 批处理, 分时, 单用户, 多用户, 分布式, 实时或通用目标. 

需求可分为两个基本类: 用户目标和系统目标.
### 策略(policy)和机制(mechanism)
机制决定如何做, 策略决定做什么, 比如说, 定时器结构是一种CPU保护的机制, 但是对于特定用户将定时器设置成多长时间是个策略问题. 



